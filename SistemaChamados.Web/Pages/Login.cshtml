@page
@model SistemaChamados.Web.Pages.LoginModel
@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Login — Helpy</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="~/css/style.css" asp-append-version="true" />
</head>
<body>
    <div class="login-wrapper">
        <div class="login-card">
            <div class="header center" style="justify-content:flex-start;">
                <img src="~/images/logo.png" alt="Helpy" style="width:56px;height:56px;border-radius:12px;" />
                <div class="brand">Helpy — Suporte</div>
            </div>

            <h2>Entrar na sua conta</h2>
            <p class="login-help">Acesse seu painel de chamados e suporte.</p>

            @if (!string.IsNullOrEmpty(Model.ErrorMessage))
            {
                <div class="card" style="margin-bottom:12px; background: rgba(255,80,80,0.05); border-color: rgba(255,80,80,0.12); color:#ffd6d6;">
                    <div style="padding:10px; font-size:14px;">@Model.ErrorMessage</div>
                </div>
            }

            <form method="post" class="mt-3">
                <div class="mb-3">
                    <label class="small text-muted" for="email">E-mail</label>
                    <input asp-for="Email" id="email" type="email" class="input" placeholder="seu@exemplo.com" required>
                </div>

                <div class="mb-3">
                    <label class="small text-muted" for="password">Senha</label>
                    <input asp-for="Senha" id="password" type="password" class="input" placeholder="••••••••" required>
                </div>

                <div class="d-flex justify-content-between align-items-center mb-3">
                    <div>
                        <input id="remember" type="checkbox"> 
                        <label for="remember" class="small text-muted">Lembrar-me</label>
                    </div>
                    <a href="#" class="small text-muted">Esqueceu a senha?</a>
                </div>

                <div class="d-grid">
                    <button type="submit" class="btn btn-primary">Entrar</button>
                </div>

                <div class="text-center mt-3 small text-muted">
                    Conta de teste: <strong>user@@sistema.com</strong> / <strong>user123</strong>
                </div>
            </form>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Aplicar tema salvo antes de renderizar
        (function applySavedTheme() {
            try {
                const saved = localStorage.getItem('helpy_theme');
                if (saved === 'light') {
                    document.documentElement.setAttribute('data-theme', 'light');
                } else {
                    document.documentElement.removeAttribute('data-theme');
                }
            } catch(e) {}
        })();
    </script>
</body>
</html>
